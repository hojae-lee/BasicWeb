<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>J08Function02.html</title>
<script>
	/*
	 Call By Value : 값에 의한 호출 값을 매개변수로 복사해서 전달함.
	 callByValue() 함수로 전달된 param args는 전달이 됨과 동시에 새로운 지역변수가 생성됨.,
	 그리고 함수의 실행이 종료되면 소멸됨.
	 */
	 var param =100, args = 1;
	 
	 document.write("<h2>Call by value</h2>");
	 document.write("초기값 param="+param+", args="+args +"<br/>");
	 
	 function callByValue(param, args){
		 //매개변수로 전달된값은 메모리상에서 복사가 이루어지게 된다.
		 var temp = param;
		 param = args;
		 args = temp;
		 /*
		 해당 함수내의 변수들은 함수가 종룔될때 같이 소멸된다. 즉 해당 함수의 지역변수가 된다.
		 */
		 document.write("함수안의 param="+param+", args="+ args +"<br/>");
	 }
	 
	 callByValue(param, args);
	 document.write("함수밖의 param="+param+", args="+args+"<br/>");
	 
	 /*
	 Call By Reference : 참조에 의한 호출 값이 아닌 객체의 참조값을 전달함. 지역에 상관없이 참조가 가능함.
	 */
	 
	 document.write("<h2>Call by Reference</h2>");
	 var array = [100,1];
	 document.write("초기값 array[0]="+array[0]+", array[1]="+ array[1]+"<br/>");
	 
	 function callByReference(arr){
		 //배열의 참조값이 전달되어 실제값을 Swap함.
		 var temp = arr[0];
		 arr[0] = arr[1];
		 arr[1] = temp;
		 
		 document.write("함수안 arr[0]="+ arr[0]+", arr[1]="+arr[1]+"<br/>");
	 }
	 
	 //배열의 이름 즉 참조값을 매개변수로 함수호출
	 callByReference(array);
	 document.write("함수밖 array[0]="+array[0]+", array[1]="+array[1]+"<br/>");
	 
	 /*
	 지역변수와 전역변수
	 : 위 두 변수가 충돌하게 될 경우 지역변수가 우선순위가 높다
	 this키워드는 윈도우객체를 가리키는 것으로 해당 페이지안의 스크립트 태그안에 선언된 모든 멤버에 접근하는것이
	 가능함. 즉 전역변수와 지역변수를 구분하기 위해 사용한다.
	 */
	 document.write("<h2>지역변수와 전역변수</h2>")
	 var globalVar = 100; //전역변수
	 
	 function conflict(globalVar){
		 /*
		 ※ 키워드 this를 사용하는 이유는 전역변수와 지역변수의 이름이 동일해서 변수명 만으로 구분이 힘들기 때문에
		 구분하기 위해 사용한다.
		 */
		 this.globalVar = globalVar *2;
		 document.write("함수안 globalVar="+globalVar+"<br/>");
		 document.write("함수안 this.globalVar="+this.globalVar+"<br/>");
	 }
	 
	 conflict(globalVar);
	 document.write("함수밖 globalVar="+globalVar+"<br/>");
	 
	 function conflict2(localVar) {
		
		 globalVar = localVar + 50;
		 localVar = localVar + 80;
		 
		 document.write("함수2안 globalVar="+globalVar+", localVar="+ localVar+"<br/>");
	}
	 conflict2(globalVar);
	 document.write("함수2밖 globalvar="+globalVar+", localVar= 선언된적없음->");
	 /*
	 	localVar는 선언된적이 없는 변수이므로 출력자체가 불가능함.
	 	에러가 발생되어 실행되지 않음.
	 */
	 
	 document.write("<h2>배열을 크기순으로 정렬하기</h2>");
	 /*
	 연습문제 다음 배열을 오름차순으로 정렬하는 함수를 정의하시오. 단 정렬전과 정렬후의 결과를 모두 출력해야 한다.
	 */
	 var arr = [10,45,99,1,34,78,100,22,2,55];
	 
	 function setOrdering(arrParam){
		 var temp;
		 
		 for(var i=0; i<arrParam.length-1; i++){
			 for(var j=0; j<arrParam.length-i-1; j++){
				 if(arrParam[j]>arrParam[j+1]){
					 temp = arrParam[j];
					 arrParam[j] = arrParam[j+1];
					 arrParam[j+1] = temp;
					 
					 showArray(arrParam);
				 }
			 }
		 }
	 }
	 
	 function showArray(arrParam){
		 for(var i=0; i<arrParam.length; i++){
			 document.write(arrParam[i]+"&nbsp;");
		 }
		 document.write("<br/>");
	 }
	 //정렬전 배열 출력
	 document.write("정렬 전 <br/>");
	 showArray(arr);
	 //정렬 실행(오름차순)
	 setOrdering(arr);
	 //정렬후 배열 출력
	 document.write("정렬 후 <br/>");
	 showArray(arr);
</script>
</head>
<body>

</body>
</html>